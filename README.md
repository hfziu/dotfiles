# Configuration files

This repository contains configuration for the tools I use:

- `zsh` (shell): with the lightweight plugin manager [Antidote.lite](https://github.com/mattmc3/zsh_unplugged).
- `vim` (text editor): with plugin manager [Vim-Plug](https://github.com/junegunn/vim-plug).
- `tmux` (terminal multiplexer): WARNING: prefix set to `C-a` instead of `C-b`.
- ~~`kitty` (terminal emulator): [Documentation](https://sw.kovidgoyal.net/kitty/)~~ no longer used.
- [Ghostty](https://ghostty.org)
- [Neovim](https://github.com/neovim/neovim)

## Usage

Copy files to the appropriate locations (e.g., your `$HOME` directory). If you are using Zsh, parts of this can be automated with `setup-cli.zsh` (applies to a subset of files).

Example:

```zsh
# For zsh on macOS
cp -i zsh/zshrc.basic.zsh ~/.zshrc.basic.zsh
cp -i zsh/zshrc.darwin.zsh ~/.zshrc
cp -i zsh/zshenv.darwin.zsh ~/.zshenv

# Open-source mirrors in Mainland China
# * Copy the following file ONLY if you are in Mainland China
cp -i ./.cn.env /.cn.env

# Vim
vim/install_dependencies.sh  # install Vim-Plug
cp -i vim/{.basic.,.plug.,.}vimrc ~/
```

### Auto-completion

For zsh auto-completion, create a custom zsh function directory:

```zsh
mkdir -p ~/.zfunc
```

Then generate the auto-completion files, e.g., for `rustup` and `cargo`:

```zsh
rustup completions zsh > ~/.zfunc/_rustup
cargo completions zsh > ~/.zfunc/_cargo
```

## Compatibility

### macOS

Tested on macOS 14 with `zsh 5.9 (x86_64-apple-darwin23.0)`. Compatibility with significantly older macOS releases (e.g., macOS pre-10.13 High Sierra with `zsh` < 5.3) is not guaranteed.

### Linux

## To-do

### Fish shell

As of September 2025, I'm considering switching to fish. Compared to Zsh, fish offers superior out-of-the-box features, eliminating the need for complex configurations and third-party plugins (see [zshrc.basic.zsh](zsh/zshrc.basic.zsh) for my current Zsh plugins). As shown in [fish/config.fish], the simple configuration contains only environment variable settings for external programs (Homebrew, Bitwarden, Go, Rust, etc.) without modifying fish's default behavior.

However, since fish is not POSIX-compliant, I use it only as an interactive shell via my [terminal emulator settings](ghostty/config.linux) (avoiding `chsh`). On Apple Silicon macOS, Homebrew installs fish to `/opt/homebrew/bin/fish`, which isn't in the standard `$PATH`, requiring the absolute path being hardcoded in [Ghostty's configuration](ghostty/config.darwin):

```config
# TODO: find a portable method to launch the fish shell across different installation paths (standard $PATH or /opt/homebrew/bin/fish)
command = direct:/opt/homebrew/bin/fish --login --interactive
```

Please note that the Ghostty configuration above doesn't change the user's login shell — the `$SHELL` environment variable remains set to the original login shell (e.g., `/bin/zsh`) even when checked from within the fish shell (`echo $SHELL`).

Current fish config is backed up in [./fish](./fish) with the following structure:

```text
./fish/
├── config.fish
└── functions
    └── cn_mirrors.fish
```

The setup script `setup-cli.zsh` doesn't copy `./fish/functions` automatically. This isn't problematic (yet) since the few custom functions don't affect the main configuration's default behavior.

Your `~/.config/fish/` directory may also include files automatically generated or updated by fish (these files are *intentionally* excluded from this repository), such as:

- `fish_variables` (stores universal variables that can be set via `set -U`), and
- `~/functions/fish_prompt.fish` (can be re‑generated by `fish_config`, the built‑in fish config tool). I use the `informative_vcs` prompt: `fish_config prompt choose informative_vcs`.
